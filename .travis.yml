language: haxe

haxe:
  #- development
  - 3.4.2

os:
  - linux
  #- osx

sudo: required

addons:
  apt:
    packages:
    #- mono-complete
    #- python3
    #- php70
    #- php70-common
    #- php70-cli

before_install:
  - if [[ "${TRAVIS_OS_NAME}" == "osx" ]]; then
      brew update;
      brew install mono;
      brew install python3;
      brew tap homebrew/dupes;
      brew tap homebrew/versions;
      brew tap homebrew/homebrew-php;
      brew unlink php56;
      brew install php70;
    else
      phpenv global "7.0";
    fi
  #- mono --version;
  #- python3 --version;
  - php --version;

install:
#  - yes | haxelib install test.hxml
#  - if [ "${TRAVIS_HAXE_VERSION}" = "development" ]; then
#      haxelib git hxcpp https://github.com/HaxeFoundation/hxcpp.git;
#      pushd $(haxelib path hxcpp | head -1);
#        pushd tools/hxcpp; haxe compile.hxml; popd;
#        pushd project; neko build.n; popd;
#      popd;
#    else
#      haxelib install hxcpp;
#    fi
  - haxelib install hxcpp;
  - haxelib install hxjava;
  - haxelib install hxcs;
  - haxelib install nodejs;
  - haxelib install mlib;
  - haxelib install mcover;

script:
  - haxe build.hxml
